<div class="card">
    <div class="card-body">
        <form [formGroup]="angForm" novalidate>
            <div class="form-group">
                <label class="col-md-4">First Name</label>
                <input type="text" class="form-control" formControlName="first_name" #first_name [(ngModel)] = "user.first_name" />
            </div>
            <div *ngIf="angForm.controls['first_name'].invalid && (angForm.controls['first_name'].dirty || angForm.controls['first_name'].touched)" class="alert alert-danger">
                <div *ngIf="angForm.controls['first_name'].errors.required">
                    first_name is required.
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4">Last Name</label>
                <input type="text" class="form-control" formControlName="last_name" #last_name [(ngModel)] = "user.last_name" />
            </div>
            <div *ngIf="angForm.controls['last_name'].invalid && (angForm.controls['last_name'].dirty || angForm.controls['last_name'].touched)" class="alert alert-danger">
                <div *ngIf="angForm.controls['last_name'].errors.required">
                    last_name is required.
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-4">Email</label>
                <input type="text" class="form-control" formControlName="email" #email [(ngModel)] = "user.email" />
            </div>
            <div *ngIf="angForm.controls['email'].invalid && (angForm.controls['email'].dirty || angForm.controls['email'].touched)" class="alert alert-danger">
                <div *ngIf="angForm.controls['email'].errors.required">
                    email is required.
                </div>
            </div>

                <input type="hidden" class="form-control" formControlName="rank" #rank [(ngModel)] = "user.rank" />


            <div class="form-group">
                <label class="col-md-4">Password</label>
                <input type="password" class="form-control" formControlName="password" #password [(ngModel)] = "user.password" />
            </div>
            <div *ngIf="angForm.controls['password'].invalid && (angForm.controls['password'].dirty || angForm.controls['password'].touched)" class="alert alert-danger">
                <div *ngIf="angForm.controls['password'].errors.required">
                    a password is required.
                </div>
            </div>


            <div class="form-group">
                <label class="form-group">Location:</label>
                <select class="form-control" formControlName="location" #location > 
                <option selected [ngValue]="user.location">{{user.location}}</option>
                <option *ngFor="let dealer of dealers" value={{dealer.name}}>
                  {{dealer.name}}, {{dealer.location}}
                </option>
                </select>
              </div> 


        <div class="form-group">
            <button (click)="updateUser(first_name.value, last_name.value, email.value, password.value, rank.value, location.value)"
            [disabled]="angForm.invalid" 
            class="btn btn-primary">Submit Update</button>
        </div>
        </form>
    </div>
</div>